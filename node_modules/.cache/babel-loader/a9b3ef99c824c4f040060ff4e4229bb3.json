{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\angle\\\\Desktop\\\\ticketapp\\\\src\\\\PostTicket.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = \"http://52.10.102.239/tickets/\";\nconst ressource = axios.get(baseURL);\nconst newId = ReactDOM.createRoot(document.getElementById('newId').value);\n\nclass PostTicket extends React.Component {\n  // state = {\n  //   tickets: []\n  // }\n  constructor(props) {\n    super(props);\n    this.state = {\n      tickets: []\n    };\n    this.handleDeleteTicket = this.handleDeleteTicket.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(baseURL).then(res => {\n      const tickets = res.data;\n      this.setState({\n        tickets\n      });\n    });\n  }\n\n  handleDeleteTicket(event) {\n    // alert(\"Hello supprimer\")\n    // axios.put(`${baseURL}/delete/10`)\n    axios.put(\"http://52.10.102.239/tickets/delete/${new}\").then(response => {\n      window.location.reload();\n      console.log(response.data);\n      window.location.reload();\n    });\n  }\n\n  render() {\n    return this.state.tickets.map(ticket => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          id: \"newId\",\n          children: ticket.id\n        }, ticket.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.email\n        }, ticket.email, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.title\n        }, ticket.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.description\n        }, ticket.description, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-sm btn-success\",\n                children: \"Valider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: this.handleDeleteTicket,\n                className: \"btn btn-sm btn-danger\",\n                children: \"Supprimer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }, this));\n  }\n\n}\n\nexport default PostTicket;","map":{"version":3,"sources":["C:/Users/angle/Desktop/ticketapp/src/PostTicket.js"],"names":["axios","React","ReactDOM","baseURL","ressource","get","newId","createRoot","document","getElementById","value","PostTicket","Component","constructor","props","state","tickets","handleDeleteTicket","bind","componentDidMount","then","res","data","setState","event","put","response","window","location","reload","console","log","render","map","ticket","id","email","title","description"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,QAAZ,MAA0B,kBAA1B;;AAEA,MAAMC,OAAO,GAAG,+BAAhB;AAEA,MAAMC,SAAS,GAAGJ,KAAK,CAACK,GAAN,CAAUF,OAAV,CAAlB;AAEA,MAAMG,KAAK,GAAGJ,QAAQ,CAACK,UAAT,CACZC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KADrB,CAAd;;AAGA,MAAMC,UAAN,SAAyBV,KAAK,CAACW,SAA/B,CAAyC;AACvC;AACA;AACA;AACAC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE;AADE,KAAb;AAIA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBnB,IAAAA,KAAK,CAACK,GAAN,CAAUF,OAAV,EACGiB,IADH,CACQC,GAAG,IAAI;AACX,YAAML,OAAO,GAAGK,GAAG,CAACC,IAApB;AACA,WAAKC,QAAL,CAAc;AAAEP,QAAAA;AAAF,OAAd;AACD,KAJH;AAKD;;AAEDC,EAAAA,kBAAkB,CAACO,KAAD,EAAQ;AACxB;AACA;AACAxB,IAAAA,KAAK,CAACyB,GAAN,CAAU,4CAAV,EAAwDL,IAAxD,CAA8DM,QAAD,IAAc;AACzEC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACJ,IAArB;AACAK,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KAJD;AAMD;;AAIDG,EAAAA,MAAM,GAAG;AACP,WACE,KAAKjB,KAAL,CAAWC,OAAX,CACOiB,GADP,CACWC,MAAM,iBACT,QAAC,KAAD,CAAO,QAAP;AAAA,6BACE;AAAA,gCACE;AAAoB,UAAA,EAAE,EAAC,OAAvB;AAAA,oBAAgCA,MAAM,CAACC;AAAvC,WAASD,MAAM,CAACC,EAAhB;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,oBAAwBD,MAAM,CAACE;AAA/B,WAASF,MAAM,CAACE,KAAhB;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,oBAAwBF,MAAM,CAACG;AAA/B,WAASH,MAAM,CAACG,KAAhB;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA,oBAA8BH,MAAM,CAACI;AAArC,WAASJ,MAAM,CAACI,WAAhB;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAA,qCACE;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,SAAS,EAAC,wBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAA,qCACE;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,OAAO,EAAE,KAAKrB,kBAApC;AAAwD,gBAAA,SAAS,EAAC,uBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFR,CADF;AAwBD;;AA3DsC;;AA8DzC,eAAeN,UAAf","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport * as ReactDOM from 'react-dom/client';\r\n\r\nconst baseURL = \"http://52.10.102.239/tickets/\";\r\n\r\nconst ressource = axios.get(baseURL);\r\n\r\nconst newId = ReactDOM.createRoot(\r\n  document.getElementById('newId').value\r\n);\r\nclass PostTicket extends React.Component {\r\n  // state = {\r\n  //   tickets: []\r\n  // }\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tickets: []\r\n    };\r\n\r\n    this.handleDeleteTicket = this.handleDeleteTicket.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(baseURL)\r\n      .then(res => {\r\n        const tickets = res.data;\r\n        this.setState({ tickets });\r\n      })\r\n  }\r\n\r\n  handleDeleteTicket(event) {\r\n    // alert(\"Hello supprimer\")\r\n    // axios.put(`${baseURL}/delete/10`)\r\n    axios.put(\"http://52.10.102.239/tickets/delete/${new}\").then((response) => {\r\n      window.location.reload()\r\n      console.log(response.data);\r\n      window.location.reload()\r\n    });\r\n    \r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      this.state.tickets\r\n            .map(ticket =>\r\n              <React.Fragment>\r\n                <tr>\r\n                  <td key={ticket.id} id=\"newId\">{ticket.id}</td>\r\n                  <td key={ticket.email}>{ticket.email}</td>\r\n                  <td key={ticket.title}>{ticket.title}</td>\r\n                  <td key={ticket.description}>{ticket.description}</td>\r\n                  <td>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6 text-center\">\r\n                        <button type=\"button\" className=\"btn btn-sm btn-success\">Valider</button>\r\n                      </div>\r\n                      <div className=\"col-6 text-center\">\r\n                        <button type=\"button\" onClick={this.handleDeleteTicket} className=\"btn btn-sm btn-danger\">Supprimer</button>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport default PostTicket;\r\n"]},"metadata":{},"sourceType":"module"}