{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\angle\\\\Desktop\\\\ticketapp\\\\src\\\\PostTicket.jsx\";\nimport axios from 'axios';\nimport React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = \"http://52.10.102.239/tickets\";\nconst ressource = axios.get(baseURL);\nconst expression = \"(e) => this.handleValidateTicket(ticket.id, e)\";\n\nclass PostTicket extends React.Component {\n  // state = {\n  //   tickets: []\n  // }\n  constructor(props) {\n    super(props);\n    this.state = {\n      tickets: []\n    };\n    this.handleDeleteTicket = this.handleDeleteTicket.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(baseURL).then(res => {\n      const tickets = res.data;\n      this.setState({\n        tickets\n      });\n    });\n  }\n\n  handleDeleteTicket(id, event) {\n    axios.put(`${baseURL}/delete/${id}`).then(response => {\n      this.setState({\n        tickets: this.deleteTicket(id)\n      });\n    });\n  }\n\n  handleValidateTicket(id, event) {\n    axios.put(`${baseURL}/update/${id}`).then(response => {\n      this.setState({\n        tickets: this.deleteTicket(id)\n      });\n    });\n  }\n\n  deleteTicket(id) {\n    var filtered = this.state.tickets.filter(function (value, index, arr) {\n      return value.id != id;\n    });\n    return filtered;\n  }\n\n  checkStatus(validationStatus) {\n    if (validationStatus == 1) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: expression,\n        className: \"btn btn-sm btn-success\",\n        disabled: true,\n        children: \"Valider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: expression,\n        className: \"btn btn-sm btn-success\",\n        children: \"Valider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  render() {\n    return this.state.tickets.map(ticket => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 text-center\",\n              children: this.checkStatus(ticket.status)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: e => this.handleDeleteTicket(ticket.id, e),\n                className: \"btn btn-sm btn-danger\",\n                children: \"Supprimer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }, this)]\n      }, ticket.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }, this));\n  }\n\n}\n\nexport default PostTicket;","map":{"version":3,"sources":["C:/Users/angle/Desktop/ticketapp/src/PostTicket.jsx"],"names":["axios","React","ReactDOM","baseURL","ressource","get","expression","PostTicket","Component","constructor","props","state","tickets","handleDeleteTicket","bind","componentDidMount","then","res","data","setState","id","event","put","response","deleteTicket","handleValidateTicket","filtered","filter","value","index","arr","checkStatus","validationStatus","render","map","ticket","email","title","description","status","e"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport * as ReactDOM from 'react-dom/client';\r\n\r\nconst baseURL = \"http://52.10.102.239/tickets\";\r\n\r\nconst ressource = axios.get(baseURL);\r\nconst expression = \"(e) => this.handleValidateTicket(ticket.id, e)\";\r\n\r\nclass PostTicket extends React.Component {\r\n  // state = {\r\n  //   tickets: []\r\n  // }\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tickets: []\r\n    };\r\n\r\n    this.handleDeleteTicket = this.handleDeleteTicket.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(baseURL)\r\n      .then(res => {\r\n        const tickets = res.data;\r\n        this.setState({ tickets });\r\n      })\r\n  }\r\n\r\n  handleDeleteTicket(id, event) {\r\n    axios.put(`${baseURL}/delete/${id}`).then((response) => {\r\n      this.setState({tickets: this.deleteTicket(id)})\r\n    });    \r\n  }\r\n\r\n  handleValidateTicket(id, event) {\r\n    axios.put(`${baseURL}/update/${id}`).then((response) => {\r\n      this.setState({tickets: this.deleteTicket(id)})\r\n    });\r\n  }\r\n\r\n  deleteTicket(id) {\r\n    var filtered = this.state.tickets.filter(function(value, index, arr){ \r\n      return value.id != id;\r\n    });\r\n    return filtered\r\n  }\r\n\r\n  \r\n\r\n  checkStatus (validationStatus) {\r\n    if (validationStatus == 1) {\r\n      return (\r\n        <button type=\"button\" onClick={expression} className=\"btn btn-sm btn-success\" disabled>Valider</button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button type=\"button\" onClick={expression} className=\"btn btn-sm btn-success\">Valider</button>\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      this.state.tickets\r\n            .map(ticket =>\r\n              <React.Fragment>\r\n                <tr key={ticket.id}>\r\n                  <td>{ticket.id}</td>\r\n                  <td>{ticket.email}</td>\r\n                  <td>{ticket.title}</td>\r\n                  <td>{ticket.description}</td>\r\n                  <td>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6 text-center\">\r\n                        {this.checkStatus(ticket.status)}\r\n                      </div>\r\n                      <div className=\"col-6 text-center\">\r\n                        <button type=\"button\" onClick={(e) => this.handleDeleteTicket(ticket.id, e)} className=\"btn btn-sm btn-danger\">Supprimer</button>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport default PostTicket;\r\n"]},"metadata":{},"sourceType":"module"}