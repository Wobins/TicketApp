{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\angle\\\\Desktop\\\\ticketapp\\\\src\\\\PostTicket.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = \"http://52.10.102.239/tickets\";\nconst ressource = axios.get(baseURL);\n\nclass PostTicket extends React.Component {\n  // state = {\n  //   tickets: []\n  // }\n  constructor(props) {\n    super(props);\n    this.state = {\n      tickets: []\n    };\n    this.handleDeleteTicket = this.handleDeleteTicket.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(baseURL).then(res => {\n      const tickets = res.data;\n      this.setState({\n        tickets\n      });\n    });\n  }\n\n  handleDeleteTicket(id, event) {\n    axios.put(`${baseURL}/delete/${id}`).then(response => {\n      this.setState({\n        tickets: this.deleteTicket(id)\n      });\n    });\n  }\n\n  handleValidateTicket(id, event) {\n    axios.put(`${baseURL}/update/${id}`).then(response => {\n      this.setState({\n        tickets: this.deleteTicket(id)\n      });\n    });\n  }\n\n  deleteTicket(id) {\n    var filtered = this.state.tickets.filter(function (value, index, arr) {\n      return value.id != id;\n    });\n    return filtered;\n  }\n\n  render() {\n    return this.state.tickets.map(ticket => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: ticket.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 text-center\",\n              children: this.checkStatus(ticket.status)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: e => this.handleDeleteTicket(ticket.id, e),\n                className: \"btn btn-sm btn-danger\",\n                children: \"Supprimer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 19\n        }, this)]\n      }, ticket.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }, this));\n  }\n\n}\n\nexport default PostTicket;","map":{"version":3,"sources":["C:/Users/angle/Desktop/ticketapp/src/PostTicket.js"],"names":["axios","React","ReactDOM","baseURL","ressource","get","PostTicket","Component","constructor","props","state","tickets","handleDeleteTicket","bind","componentDidMount","then","res","data","setState","id","event","put","response","deleteTicket","handleValidateTicket","filtered","filter","value","index","arr","render","map","ticket","email","title","description","checkStatus","status","e"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport * as ReactDOM from 'react-dom/client';\r\n\r\nconst baseURL = \"http://52.10.102.239/tickets\";\r\n\r\nconst ressource = axios.get(baseURL);\r\n\r\nclass PostTicket extends React.Component {\r\n  // state = {\r\n  //   tickets: []\r\n  // }\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tickets: []\r\n    };\r\n\r\n    this.handleDeleteTicket = this.handleDeleteTicket.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(baseURL)\r\n      .then(res => {\r\n        const tickets = res.data;\r\n        this.setState({ tickets });\r\n      })\r\n  }\r\n\r\n  handleDeleteTicket(id, event) {\r\n    axios.put(`${baseURL}/delete/${id}`).then((response) => {\r\n      this.setState({tickets: this.deleteTicket(id)})\r\n    });    \r\n  }\r\n\r\n  handleValidateTicket(id, event) {\r\n    axios.put(`${baseURL}/update/${id}`).then((response) => {\r\n      this.setState({tickets: this.deleteTicket(id)})\r\n    });\r\n  }\r\n\r\n  deleteTicket(id) {\r\n    var filtered = this.state.tickets.filter(function(value, index, arr){ \r\n      return value.id != id;\r\n    });\r\n    return filtered\r\n  }\r\n\r\n  \r\n  \r\n\r\n\r\n  render() {\r\n    return (\r\n      this.state.tickets\r\n            .map(ticket =>\r\n              <React.Fragment>\r\n                <tr key={ticket.id}>\r\n                  <td>{ticket.id}</td>\r\n                  <td>{ticket.email}</td>\r\n                  <td>{ticket.title}</td>\r\n                  <td>{ticket.description}</td>\r\n                  <td>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6 text-center\">\r\n                        {this.checkStatus(ticket.status)}\r\n                      </div>\r\n                      <div className=\"col-6 text-center\">\r\n                        <button type=\"button\" onClick={(e) => this.handleDeleteTicket(ticket.id, e)} className=\"btn btn-sm btn-danger\">Supprimer</button>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport default PostTicket;\r\n"]},"metadata":{},"sourceType":"module"}